---
import PbImage from "./PbImage.astro";

const { offre } = Astro.props;

const { nomMaison, favori = false } = offre;
---

<article
    class="offre bg-white rounded-2xl shadow-sm overflow-hidden
           flex flex-col max-w-[500px] w-full mx-auto"
    data-favori={favori ? "true" : "false"}
>
    <!-- IMAGE -->
    <a href={`/offres/${offre.id}`} class="block h-52 overflow-hidden">
        <PbImage
            record={offre}
            recordImage={offre.images?.[0]}
            width={500}
            height={300}
        />
    </a>

    <!-- TITRE -->
    <div class="p-5">
        <h2 class="font-semibold text-lg leading-snug">
            <a href={`/offres/${offre.id}`} class="hover:underline">
                {nomMaison}
            </a>
        </h2>
    </div>

    <!-- BADGE FAVORI EN BAS -->
    {
        favori && (
            <div class="px-5 pb-5 mt-auto">
                <span
                    class="inline-block bg-amber-400 text-black
                       px-4 py-1 rounded-full text-sm font-semibold shadow"
                >
                    â˜… Favori
                </span>
            </div>
        )
    }
</article>
