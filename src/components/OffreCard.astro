---
import PbImage from "./PbImage.astro";

const { offre } = Astro.props;

const {
    nomMaison,
    adresse,
    prix,
    surface,
    nbChambres,
    nbSdb,
    favori = false,
} = offre;
---

<article
    class="offre bg-white rounded-2xl shadow-sm overflow-hidden"
    data-favori={favori ? "true" : "false"}
>
    <div class="relative h-52 overflow-hidden">
        <PbImage
            record={offre}
            recordImage={offre.images?.[0]}
            width={500}
            height={300}
        />

        {
            favori && (
                <span class="absolute top-3 right-3 bg-amber-400 px-3 py-1 rounded-full">
                    ★ Favori
                </span>
            )
        }
    </div>

    <div class="p-5">
        <h2 class="font-semibold text-lg">{nomMaison}</h2>
        <p class="text-sm text-gray-500">{adresse}</p>
        <p class="mt-2 text-sm">
            {surface} m² · {nbChambres} ch · {nbSdb} sdb
        </p>
        <p class="font-bold mt-3">{prix} €</p>
    </div>
</article>
